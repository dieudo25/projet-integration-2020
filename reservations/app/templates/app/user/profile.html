{% extends "app/base.html" %}

{% load crispy_forms_tags %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <div class="content-section">
        <div class="media">
            <div class="img-profile-wrapper rounded-circle border">
                <img class="profile-img rounded-circle" src="{{ user.userprofile.image.url }}">
            </div>
            <div class="media-body mt-4 ml-3">
                <h2 class="profile-title mb-5 ">{{ user.username }}</h2>
                <p class="text-secondary">Nom : {{ user.last_name }}</p>
                <p class="text-secondary">Prénom : {{ user.first_name }}</p>
                <p class="text-secondary">E-mail : {{ user.email }}</p>
                <p class="text-secondary">Rôle : {{ user.groups.all.0.name }}</p>
                <button id="Update_profil" class="btn btn-primary" type="button">Modifier</button>
                <a class="btn btn-dark" href="/admin/">Administration</a>
            </div>
        </div>
        <form id="Profile-form" method="post" enctype="multipart/form-data" class="mt-3 hide"> {% csrf_token %} {% comment %} enctype save the uploaded image {% endcomment %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Modification du profil</legend>

                {{ user_form|crispy }}
                {{ user_profile_form|crispy }}

            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-primary" type="submit">Confirmer</button>
                <button id="Cancel_update_profil" class="btn btn-outline-secondary" type="button">Annuler</button>
            </div>
        </form>
    </div>
{% endblock content %}

